<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:Homework4"
        xmlns:vm="using:Homework4.ViewModels"
        x:Class="Homework4.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="Homework4"
        Width="800"
        Height="600"
        FontFamily="Arial">

  <!-- Layout grid: rows for header, controls, active recipes, and footer -->
  <Grid Margin="20" RowDefinitions="Auto,Auto,*,Auto">

    <!-- Header: displays the app name centered -->
    <Border Grid.Row="0" Background="#B40614" CornerRadius="5" Padding="15" HorizontalAlignment="Center">
      <TextBlock Text="The app name"
                 Foreground="White"
                 FontSize="24"
                 FontWeight="Bold"/>
    </Border>

    <!-- Controls: Start/Stop and New Order/Speed buttons -->
    <Grid Grid.Row="1" Margin="0 15">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <!-- Start simulation -->
      <Button Grid.Column="0" Content="Start"
              Background="#34912A" Foreground="White"
              Margin="5" Padding="10 5" FontSize="14" CornerRadius="3"
              Command="{Binding StartSimulationCommand}"/>
      <!-- Stop simulation -->
      <Button Grid.Column="1" Content="Stop"
              Background="#34912A" Foreground="White"
              Margin="5" Padding="10 5" FontSize="14" CornerRadius="3"
              Command="{Binding StopSimulationCommand}"/>
      <!-- Open New Order dialog -->
      <Button Grid.Column="2" Content="New Order"
              Background="#34912A" Foreground="White"
              Margin="5" Padding="10 5" FontSize="14" CornerRadius="3"
              Click="OnNewOrderClick"/>
      <!-- Adjust speed -->
      <Button x:Name="SpeedButton" Grid.Column="3" Content="Speed (1x)"
              Background="#34912A" Foreground="White"
              Margin="5" Padding="10 5" FontSize="14" CornerRadius="3"
              Click="OnSpeedButtonClick"/>
    </Grid>

    <!-- Active Recipes: list of current recipe simulations -->
    <Border Grid.Row="2" Background="#B40614" CornerRadius="5" Padding="15" Margin="0 15">
      <StackPanel Spacing="10">
        <!-- Shows count of active recipes -->
        <TextBlock Text="{Binding ActiveRecipesCount, StringFormat='Active Recipes - {0}'}"
                   Foreground="White" FontSize="16" FontWeight="Bold"/>
        <!-- Each ActiveRecipe displays name, progress bar(percentage)and remove button -->
        <ItemsControl ItemsSource="{Binding ActiveRecipes}">
          <ItemsControl.ItemTemplate>
            <DataTemplate x:DataType="local:ActiveRecipe">
              <Grid Margin="0 5" ColumnDefinitions="*,100,50,30">
                <TextBlock Text="{Binding Name}" Foreground="White" VerticalAlignment="Center"/>
                <ProgressBar Value="{Binding Progress}" Minimum="0" Maximum="100" Height="20"
                             Background="#4A4A4A" Foreground="#34912A" Grid.Column="1"/>
                <TextBlock Text="{Binding Progress, StringFormat='{}{0:F0}%'}"
                           Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="2"/>
                <!-- Remove this recipe from the list -->
                <Button Content="X" Background="#B40614" Foreground="White" Grid.Column="3"
                        Command="{Binding RemoveCommand}" Margin="5 0 0 0"/>
              </Grid>
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </StackPanel>
    </Border>

    <!-- Inventory & Status: static placeholders for now -->
    <Grid Grid.Row="3" ColumnDefinitions="*,*" Margin="0 15">
      <!-- Inventory section shows available items -->
      <Border Background="#B40614" CornerRadius="5" Padding="15" Margin="0 0 10 0">
        <StackPanel>
          <TextBlock Text="Inventory" Foreground="White" FontSize="16" FontWeight="Bold" Margin="0 0 0 10"/>
          <TextBlock Text="Tomato: 10 pcs" Foreground="White"/>
          <TextBlock Text="Onion: 5 pcs" Foreground="White"/>
          <TextBlock Text="Cheese: 450 grams" Foreground="White"/>
          <TextBlock Text="Basil: 15 leaves" Foreground="White"/>
          <TextBlock Text="Pasta: 0.95 kg" Foreground="White"/>
          <TextBlock Text="Beef steak: 3 pcs" Foreground="White"/>
        </StackPanel>
      </Border>
      <!-- Status Report placeholder for completed recipes -->
      <Border Grid.Column="1" Background="#B40614" CornerRadius="5" Padding="15" Margin="10 0 0 0">
        <StackPanel>
          <TextBlock Text="Status Report" Foreground="White" FontSize="16" FontWeight="Bold" Margin="0 0 0 10"/>
        </StackPanel>
      </Border>
    </Grid>
  </Grid>
</Window>